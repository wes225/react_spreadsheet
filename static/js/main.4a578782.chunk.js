(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(31)},29:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),l=n.n(r),c=n(16),a=n.n(c),o=n(2),u=n(3),i=n(5),s=n(4),p=n(6),d=n(9),h=n(1),E=13,f=27,C=46,b=8,m=65,y=function(e){return{type:"SAVE_CELL_CONTENT",cell:e}},v="8d76f2f18d23abbac32fec7038fb665c";function O(e,t){return function(n){var r=t.x+1;(function(e){try{return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&APPID=").concat(v,"&units=metric")).then(function(e){return e.json().then(function(e){return e.main.temp})})}catch(t){console.log(t)}})(e).then(function(e){n(y(Object(h.a)({},t,{x:r,value:e+"\xb0C",tempValue:e+"\xb0C ",inEdit:!1})))})}}var j=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).handleCellKeyPress=function(e){n.props.isSelected?n.props.enterEditContent(Object(h.a)({},n.props.cell,{inEdit:!0})):n.props.cell.inEdit&&(e.which===E&&e.ctrlKey&&n.props.cell.x<n.props.totalColumns&&(n.props.getContentWeather(e.target.value,n.props.cell),n.props.saveCellContent(Object(h.a)({},n.props.cell,{value:e.target.value,inEdit:!1}))),e.which===E&&n.props.saveCellContent(Object(h.a)({},n.props.cell,{value:e.target.value,inEdit:!1})),e.which===f&&(n.props.cancelEditContent(!1),n.props.unSelectAllContent()))},n.handleDoubleClick=function(e){n.props.cancelEditContent(!0),n.props.enterEditContent(Object(h.a)({},n.props.cell,{inEdit:!0})),n.props.unSelectAllContent()},n.handleSingleClick=function(e){n.props.cancelEditContent(!0),e.ctrlKey?n.props.toggleSelectContent(Object(h.a)({},n.props.cell,{inEdit:!1,isSelected:!n.props.cell.isSelected})):(n.props.unSelectAllContent(),n.props.toggleSelectContent(Object(h.a)({},n.props.cell,{inEdit:!1,isSelected:!n.props.cell.isSelected})))},n.onInputChange=function(e){n.props.saveCellContent(Object(h.a)({},n.props.cell,{tempValue:e.target.value}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"isTheSameCell",value:function(e,t){return e.value===t.value&&e.isSelected===t.isSelected&&e.inEdit===t.inEdit&&e.tempValue===t.tempValue}},{key:"shouldComponentUpdate",value:function(e){return!this.isTheSameCell(this.props.cell,e.cell)}},{key:"render",value:function(){return l.a.createElement("td",{onKeyDown:this.handleCellKeyPress},this.props.cell.inEdit?l.a.createElement("input",{type:"text",onChange:this.onInputChange,defaultValue:this.props.cell.value}):this.props.cell.isSelected?l.a.createElement("label",{onClick:this.handleSingleClick,onDoubleClick:this.handleDoubleClick,style:{padding:"5px",border:"2px solid rgba(6, 150, 233, 0.815)"}},this.props.cell.value):l.a.createElement("label",{onClick:this.handleSingleClick,onDoubleClick:this.handleDoubleClick,style:{padding:"5px",border:"2px solid transparent"}},this.props.cell.value))}}]),t}(l.a.Component),L=Object(d.b)(function(e,t){return{cell:e.spreadsheetState.table[t.y][t.x],totalColumns:e.spreadsheetState.table[0].length}},function(e){return{saveCellContent:function(t){return e(y(t))},enterEditContent:function(t){return e(function(e){return{type:"EDIT_CELL",cell:e}}(t))},toggleSelectContent:function(t){return e(function(e){return{type:"TOGGLE_CELL_SELECT",cell:e}}(t))},unSelectAllContent:function(){return e({type:"UNSELECT_ALL"})},cancelEditContent:function(t){return e(function(e){return{type:"CANCEL_EDIT_CELL",save:e}}(t))},getContentWeather:function(t,n){return e(O(t,n))}}})(j),S=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("tr",null,l.a.createElement("th",null,this.props.y),this.props.row.map(function(t,n){return l.a.createElement(L,{key:"".concat(n,",").concat(e.props.y),y:e.props.y,x:n})}))}}]),t}(r.PureComponent);function g(e){return l.a.createElement("tr",null,l.a.createElement("th",null,"\\"),k(e.columns).map(function(e){return l.a.createElement("th",{key:e},e)}))}var k=function(e){for(var t=[],n="abcdefghijklmnopqrstuvwxyz".toUpperCase().split(""),r=-1,l=1,c=0;c<e;c++){r++;for(var a="",o=0;o<l;o++)a+=n[r];25===r&&(l++,r=-1),t.push(a)}return t},w=(n(29),function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).handleKeyPress=function(e){e.ctrlKey&&e.which===m&&n.props.selectAllContent(),e.which!==C&&e.which!==b||n.props.deletedSelectedContent({})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress,!1)}},{key:"render",value:function(){return l.a.createElement("table",{onKeyDown:this.handleKeyPress},l.a.createElement("thead",null,l.a.createElement(g,{columns:this.props.data.columns})),l.a.createElement("tbody",null,this.props.data.table.map(function(e,t){return l.a.createElement(S,{key:t,y:t,row:e})})))}}]),t}(r.PureComponent)),T=Object(d.b)(function(e){return{data:e.spreadsheetState}},function(e){return{selectAllContent:function(){return e({type:"SELECT_ALL"})},deletedSelectedContent:function(){return e({type:"DELETE_SELECTED_CELLS"})}}})(w),_=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(T,null)}}]),t}(r.Component),A=n(18),D=n(19),x=n(7),K=function(e,t,n){for(var r=[],l=0;l<e;l++){for(var c=[],a=0;a<t;a++)c.push(Object(h.a)({},n,{tempValue:n.value,x:a,y:l}));r.push(c)}return{table:r,columns:t,rows:e,selectedCells:[]}}(10,10,{isSelected:!1,value:"0",x:"0",y:"0",inEdit:!1,tempValue:""}),V=function(e,t){return Object.assign({},Object(h.a)({},e,{table:e.table.map(function(e,n){return e.map(function(e,r){return t.x===r&&t.y===n?t:e})})}))},P=function(e,t){return Object.assign({},Object(h.a)({},e,{table:e.table.map(function(e,n){return e.map(function(e,n){return Object(h.a)({},e,{isSelected:t})})})}))},I=function(e,t){return function(e,t){return Object.assign({},Object(h.a)({},e,{table:e.table.map(function(e,n){return e.map(function(e,n){return e.inEdit?t?Object(h.a)({},e,{value:e.tempValue,inEdit:!1}):Object(h.a)({},e,{value:"",tempValue:"",inEdit:!1}):e})})}))}(e,t.save)},N=function(e){return function(e){return Object.assign({},Object(h.a)({},e,{table:e.table.map(function(e,t){return e.map(function(e,t){return e.isSelected?Object(h.a)({},e,{value:""}):e})})}))}(e)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CELL_CONTENT":case"EDIT_CELL":case"TOGGLE_CELL_SELECT":return function(e,t){return V(e,t.cell)}(e,t);case"DELETE_SELECTED_CELLS":return N(e);case"SELECT_ALL":return function(e){return P(e,!0)}(e);case"UNSELECT_ALL":return function(e){return P(e,!1)}(e);case"CANCEL_EDIT_CELL":return I(e,t);default:return e}},G=Object(x.c)({spreadsheetState:U}),W=(Object(D.createLogger)(),Object(x.d)(G,Object(x.a)(A.a)));a.a.render(l.a.createElement(d.a,{store:W},l.a.createElement(_,null)),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.4a578782.chunk.js.map