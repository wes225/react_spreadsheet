(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(31)},29:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),l=n(16),u=n.n(l),a=n(2),o=n(3),i=n(5),s=n(4),p=n(6),f=n(9),E=n(1),b=function(e){return{type:"SAVE_CELL_CONTENT",cell:e}},d=function(e){return{type:"TOGGLE_CELL_SELECT",coord:e}},h=function(e){return{type:"SELECT_CELL",coord:e}},C="8d76f2f18d23abbac32fec7038fb665c";function y(e,t){return function(n){var r=t.x+1;(function(e){try{return fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&APPID=").concat(C,"&units=metric")).then(function(e){return e.json().then(function(e){return e.main.temp})})}catch(t){console.log(t)}})(e).then(function(e){n(b(Object(E.a)({},t,{x:r,value:e+"\xb0C",tempValue:e+"\xb0C ",inEdit:!1})))})}}var O=function(e,t){t.cell.isSelected&&!e.ctrlKey&&46!==e.which?t.enterEditContent(Object(E.a)({},t.cell,{inEdit:!0})):t.cell.inEdit&&(13===e.which&&e.ctrlKey&&t.cell.x<t.totalColumns&&(t.getContentWeather(e.target.value,t.cell),t.saveCellContent(Object(E.a)({},t.cell,{value:e.target.value,inEdit:!1}))),13===e.which&&t.saveCellContent(Object(E.a)({},t.cell,{value:e.target.value,inEdit:!1})),27===e.which&&(t.cancelEditContent(!1),t.unSelectAllContent()))},m=function(e,t){t.cancelEditContent(!0),t.enterEditContent(Object(E.a)({},t.cell,{inEdit:!0})),t.unSelectAllContent()},j=function(e,t){t.saveCellContent(Object(E.a)({},t.cell,{tempValue:e.target.value}))},S=function(e,t){e.ctrlKey&&65===e.which&&t.selectAllContent(),46!==e.which&&8!==e.which||t.deletedSelectedContent({})},L=function(e,t){t._mouseEnter(t.cell)},_=function(e,t){t.d_mouseDown(t.cell),function(e,t){t.cancelEditContent(!0),e.ctrlKey?t.toggleSelectContent(Object(E.a)({},t.cell,{inEdit:!1,isSelected:!t.cell.isSelected})):(t.unSelectAllContent(),t.toggleSelectContent(Object(E.a)({},t.cell,{inEdit:!1,isSelected:!t.cell.isSelected})))}(e,t)},v=function(e,t){t.d_mouseUp(t.cell)},x=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).handleCellKeyPress=function(e){return O(e,n.props)},n.handleDoubleClick=function(e){return m(e,n.props)},n.onInputChange=function(e){return j(e,n.props)},n.handleMouseEnter=function(e){return L(e,n.props)},n.handleMouseDown=function(e){return _(e,n.props)},n.handleMouseUp=function(e){return v(e,n.props)},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("td",{onMouseEnter:this.handleMouseEnter},this.props.cell.inEdit?c.a.createElement("input",{autoFocus:!0,type:"text",onKeyDown:this.handleCellKeyPress,onChange:this.onInputChange,defaultValue:this.props.cell.value}):this.props.cell.isSelected?c.a.createElement("label",{tabIndex:-1,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyDown:this.handleCellKeyPress,onDoubleClick:this.handleDoubleClick,style:{backgroundColor:"rgba(6, 150, 233, 0.2)"}},this.props.cell.value):c.a.createElement("label",{tabIndex:0,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onDoubleClick:this.handleDoubleClick},this.props.cell.value))}}]),t}(c.a.Component),w=Object(f.b)(function(e,t){return{cell:e.spreadsheetState.table[t.y][t.x],totalColumns:e.spreadsheetState.table[0].length,isMouseDown:e.spreadsheetState.isMouseDown}},function(e,t){return{saveCellContent:function(t){return e(b(t))},enterEditContent:function(t){return e(function(e){return{type:"EDIT_CELL",cell:e}}(t))},toggleSelectContent:function(t){return e(d({x:t.x,y:t.y}))},selectContent:function(t){return e(h({x:t.x,y:t.y}))},unSelectAllContent:function(){return e({type:"UNSELECT_ALL"})},cancelEditContent:function(t){return e(function(e){return{type:"CANCEL_EDIT_CELL",save:e}}(t))},getContentWeather:function(t,n){return e(y(t,n))},_mouseEnter:function(t){return e(function(e){return{type:"MOUSE_ENTER_CELL",cell:e}}(t))},d_mouseDown:function(t){return e(function(e){return{type:"ON_MOUSE_DOWN",cell:e}}(t))},d_mouseUp:function(t){return e(function(e){return{type:"ON_MOUSE_UP",cell:e}}(t))}}},null,{areStatePropsEqual:function(e,t){return e.cell.value===t.cell.value&&e.cell.isSelected===t.cell.isSelected&&e.cell.inEdit===t.cell.inEdit&&e.cell.tempValue===t.cell.tempValue}})(x),g=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("tr",null,c.a.createElement("th",null,this.props.y),this.props.row.map(function(t,n){return c.a.createElement(w,{key:"".concat(n,",").concat(e.props.y),y:e.props.y,x:n})}))}}]),t}(r.PureComponent);function D(e){return c.a.createElement("tr",null,c.a.createElement("th",null,"\\"),T(e.columns).map(function(e){return c.a.createElement("th",{key:e},e)}))}var T=function(e){for(var t=[],n="abcdefghijklmnopqrstuvwxyz".toUpperCase().split(""),r=-1,c=1,l=0;l<e;l++){r++;for(var u="",a=0;a<c;a++)u+=n[r];25===r&&(c++,r=-1),t.push(u)}return t},M=(n(29),function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).handleTableKeyDown=function(e){return S(e,n.props)},n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("table",{onKeyDown:this.handleTableKeyDown},c.a.createElement("thead",null,c.a.createElement(D,{columns:this.props.data.columns})),c.a.createElement("tbody",null,this.props.data.table.map(function(e,t){return c.a.createElement(g,{key:t,y:t,row:e})})))}}]),t}(r.PureComponent)),U=Object(f.b)(function(e){return{data:e.spreadsheetState}},function(e){return{selectAllContent:function(){return e({type:"SELECT_ALL"})},deletedSelectedContent:function(){return e({type:"DELETE_SELECTED_CELLS"})},toggleSelectContent:function(t,n){return e(d({x:t,y:n}))},selectContent:function(t,n){return e(h({x:t,y:n}))}}})(M),k=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(U,null)}}]),t}(r.Component),A=n(18),N=n(19),K=n(7),q=function(e,t,n){for(var r=[],c=0;c<e;c++){for(var l=[],u=0;u<t;u++)l.push(Object(E.a)({},n,{tempValue:n.value,x:u,y:c}));r.push(l)}return{table:r,columns:t,rows:e,selectedCells:[],isMouseDown:!1,selectionSquare:{}}}(10,10,{isSelected:!1,value:"0",x:"0",y:"0",inEdit:!1,tempValue:""}),V=function(e,t){return Object.assign({},Object(E.a)({},e,{table:e.table.map(function(e,n){return e.map(function(e,r){return t.x===r&&t.y===n?t:e})})}))},I=function(e,t){return Object.assign({},Object(E.a)({},e,{table:e.table.map(function(e,n){return e.map(function(e,n){return Object(E.a)({},e,{isSelected:t})})})}))},P=function(e,t){if(e.isMouseDown){var n=G(e.selectionSquare,t.cell),r=function(e,t){return e.table.map(function(e,n){return e.map(function(e,r){return r>=t.x0&&r<=t.x1&&n>=t.y0&&n<=t.y1?Object(E.a)({},e,{isSelected:!0}):Object(E.a)({},e,{isSelected:!1})})})}(e,n.selectionSquare);return Object(E.a)({},e,{table:r,selectionSquare:Object(E.a)({},n.selectionSquare)})}return e},G=function(e,t){if(0!==Object.keys(e).length){var n=e.x0,r=e.x1,c=e.y0,l=e.y1,u=e._x,a=e._y;return t.x>u?t.y<=a?(n=u,r=t.x,c=t.y,l=a):(c=a,r=t.x,l=t.y):t.x<=u&&(t.y<=a?(n=t.x,r=u,c=t.y,l=a):(n=t.x,r=u,l=t.y)),{selectionSquare:{x0:n,x1:r,y0:c,y1:l,_x:u,_y:a}}}},W=function(e,t){return function(e,t){return Object.assign({},Object(E.a)({},e,{table:e.table.map(function(e,n){return e.map(function(e,r){return t.x===r&&t.y===n?Object(E.a)({},e,{isSelected:!e.isSelected}):e})})}))}(e,t.coord)},J=function(e,t){return function(e,t){return Object.assign({},Object(E.a)({},e,{table:e.table.map(function(e,n){return e.map(function(e,r){return t.x===r&&t.y===n?Object(E.a)({},e,{isSelected:!0}):e})})}))}(e,t.coord)},R=function(e,t){return function(e,t){return Object.assign({},Object(E.a)({},e,{table:e.table.map(function(e,n){return e.map(function(e,n){return e.inEdit?t?Object(E.a)({},e,{value:e.tempValue,inEdit:!1}):Object(E.a)({},e,{tempValue:"",inEdit:!1}):e})})}))}(e,t.save)},z=function(e){return function(e){return Object.assign({},Object(E.a)({},e,{table:e.table.map(function(e,t){return e.map(function(e,t){return e.isSelected?Object(E.a)({},e,{value:""}):e})})}))}(e)},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_CELL_CONTENT":case"EDIT_CELL":return function(e,t){return V(e,t.cell)}(e,t);case"TOGGLE_CELL_SELECT":return W(e,t);case"SELECT_CELL":return J(e,t);case"DELETE_SELECTED_CELLS":return z(e);case"SELECT_ALL":return function(e){return I(e,!0)}(e);case"UNSELECT_ALL":return function(e){return I(e,!1)}(e);case"CANCEL_EDIT_CELL":return R(e,t);case"ON_MOUSE_DOWN":return function(e,t){return Object.assign({},Object(E.a)({},e,{isMouseDown:!0,selectionSquare:{x0:t.x,x1:t.x,y0:t.y,y1:t.y,_x:t.x,_y:t.y}}))}(e,t.cell);case"ON_MOUSE_UP":return function(e,t){return Object.assign({},Object(E.a)({},e,{isMouseDown:!1,selectionSquare:{}}))}(e,t.cell);case"MOUSE_ENTER_CELL":return P(e,t);default:return e}},F=Object(K.c)({spreadsheetState:B}),H=(Object(N.createLogger)(),Object(K.d)(F,Object(K.a)(A.a)));u.a.render(c.a.createElement(f.a,{store:H},c.a.createElement(k,null)),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.e516fb78.chunk.js.map